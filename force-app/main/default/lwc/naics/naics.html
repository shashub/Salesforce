<template>
    <lightning-record-view-form record-id={recordId} object-api-name="Account">
        <lightning-card  variant="Narrow"  title="NAICS" icon-name="standard:account">
            <div class="slds-p-around_x-small">
                <lightning-layout horizontal-align="space">
                    <span></span>
                    <lightning-layout-item size="8">
                        <!--<lightning-textarea name="selNAICS" readonly value="" label="" class="top"></lightning-textarea>-->
                        <textarea id="selNAICS" class="slds-textarea top" readonly></textarea>
                    </lightning-layout-item>
                    <lightning-layout-item size="1">
                        <span></span>
                    </lightning-layout-item>
                    <lightning-layout-item size="3">
                        <button disabled={disableButton} class="slds-button slds-button_brand slds-var-m-top_medium"  title="Assign to Account" onclick={AssignNAICS}>Select</button>
                    </lightning-layout-item>
                </lightning-layout>
            </div> 
            <div class="slds-p-around_x-small">
                <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_4-of-4">
                        <div>
                            <!-- Create an Input Field where user can enter text to find the
                            Records-->
                            <lightning-input variant="label-hidden" 
                                label="Search Record" value={searchKey} type="search"
                                onchange={handleChange} placeholder="search NAICS">
                            </lightning-input>
                        </div>
                    </div>
                </div>
            </div>
            <div >
                <template if:true={error}>
                    <template if:true={error.details}>
                        <template if:true={error.details.body}>
                            {error.details.body.message}
                        </template>
                    </template>
                </template>
            </div>
        </lightning-card>
        <div>
            <template if:true={records}>
                <template for:each={records} for:item="record">
                    <div key={record.code}>
                        <div class="slds-grid slds-wrap 
                                        slds-dropdown_length-with-icon-7 
                                        slds-dropdown_fluid
                                        slds-p-left_small"
                                 >
                                <div class="slds-col slds-size_4-of-4 ">
                                    <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                                        <li role="presentation" class="slds-listbox__item">
                                            <div class="slds-media slds-listbox__option 
                                                                        slds-listbox__option_entity 
                                                                        slds-listbox__option_has-meta" 
                                                                        role="option"
                                                onclick={handleSelect}>
                                               <span class="slds-media__figure slds-listbox__option-icon">
                                                    <lightning-icon icon-name={iconname} size="small"></lightning-icon>
                                                </span>
                                                <span class="slds-media__body" 
                                                    style="padding-top: 9px;font-weight: 600;">
                                                    <span class="slds-listbox__option-text 
                                                                                 slds-listbox__option-text_entity">
                                                       {record.code} -- {record.title}
                                                    </span>
                                                </span>
                                                <span class="slds-text-heading_small">
                                                    <lightning-icon icon-name={checkiconname} size="small" variant={success}></lightning-icon>
                                                </span>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                        </div>
                    </div>
                </template>
            </template>
        </div>
    </lightning-record-view-form>
</template>